{% extends 'base.html' %}
{% block title %} My Orders {% endblock title %}
{% load static %}
<link rel="stylesheet" href="{% static 'style.css' %}" />

{% block body %}
<div class="container my-5">
  <h2 class="text-center mb-4">My Orders</h2>

  <!-- Orders Table -->
  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead class="thead-dark">
        <tr>
          <th>Order ID</th>
          <th>Car Name</th>
          <th>Car Model</th>
          <th>PickUp Date</th>
          <th>Rent End Date</th>
          <th>Total Rent</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for order in orders %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ order.car.car_name }}</td>
          <td>{{ order.car.car_model.model_name }}</td>
          <td>{{ order.bill.pick_up_date }}</td>
          <td>{{ order.bill.rent_end_date }}</td>
          <td>â‚¹{{ order.bill.total_rent }}</td>
          {% if order.is_approved %}
          <td>Approved</td>
          {% else %}
          <td>Not Approved</td>
          {% endif %}
          <td>
            <a href="{% url 'order_detail' order.id %}" class="btn btn-info btn-sm">View</a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="8" class="text-center">No orders found</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock body %}
